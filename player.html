<html>
<style>
div.icon {
    border: 0px solid #000;
    display: inline-block;
}
div.play {
  width: 0;
  height: 0;
  border-width: 10px 0 10px 16px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  margin: 7px 9px;
}
div.pause {
  width: 6px;
  height: 20px;
  margin: 7px 20px 7px 8px;
  box-shadow: inset 0 0 0 32px, 12px 0 0 0;
}
div.next,
div.prev {
  width: 0;
  height: 0;
  border: 10px solid transparent;
  border-left: 10px solid;
  border-right: none;
  margin: 7px 14px 7px 10px;
  box-shadow: 4px 0;
}
div.prev {
  -webkit-transform: rotate(180deg);
      -ms-transform: rotate(180deg);
          transform: rotate(180deg);
  margin: 7px 10px 7px 14px;
}
html,body{margin:0px;}
#dirdiv{padding:0px;margin:0px;}
#titlediv{color:#fff;background:#606060;width:440px;padding:0px;margin:0px;}
.rightCSS { background: #a35dc1;
  overflow: hidden;
} .rightCSS div {
  position: relative;
  animation: CSSright linear 18s infinite;
} @keyframes CSSright {
  0% { right: -90% }
  100% { right: 90% }
}
.custom-dir::-webkit-file-upload-button {
    visibility: hidden;
}
.custom-dir::before {
    content: 'Choose Dir';
    display: inline-block;
    background: -webkit-linear-gradient(top, #f9f9f9, #e3e3e3);
    border: 1px solid #999;
    border-radius: 1px;
    padding: 3px 5px;
    outline: none;
}
#wrapper{background:#606060;width:440px;}
#wrap{position:relative;background:#606060;width:400px;padding:15px 20px 15px 20px;margin:0px;}
#audio{background:#666;width:400px;padding:15px 20px 0px 20px;margin:0px;}
#playlist{padding:0px 0px 0px 0px;margin:2px;}
#showlist{padding:0px 0px 0px 0px;margin:2px;}
#c0{position:relative;padding:0px 0px 24px 0px;margin:0px;}
#c1{position:absolute;right:10px;}
.active a{color:#5DB0E6;text-decoration:none;font-weight:bold;}
li a{color:#eeeedd;background:#333;padding:5px;display:block;}
li a:hover{text-decoration:none;}
</style>
<script>
(function(v){"object"===typeof exports&&"undefined"!==typeof module?module.exports=v():"function"===typeof define&&define.amd?define([],v):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).jsmediatags=v()})(function(){return function f(h,m,k){function l(b,a){if(!m[b]){if(!h[b]){var e="function"==typeof require&&require;if(!a&&e)return e(b,!0);if(d)return d(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e;}e=m[b]=
{exports:{}};h[b][0].call(e.exports,function(a){var e=h[b][1][a];return l(e?e:a)},e,e.exports,f,h,m,k)}return m[b].exports}for(var d="function"==typeof require&&require,c=0;c<k.length;c++)l(k[c]);return l}({1:[function(f,h,m){},{}],2:[function(f,h,m){h.exports=XMLHttpRequest},{}],3:[function(f,h,m){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var l=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();f=function(d){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a;a=Object.getPrototypeOf(c).call(this);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._array=b;a._size=b.length;a._isInitialized=!0;return a}k(c,d);l(c,[{key:"init",value:function(b){setTimeout(b.onSuccess,0)}},{key:"loadRange",value:function(b,a){setTimeout(a.onSuccess,0)}},{key:"getByteAt",value:function(b){return this._array[b]}}],[{key:"canReadFile",value:function(b){return Array.isArray(b)||"function"===typeof Buffer&&Buffer.isBuffer(b)}}]);
return c}(f("./MediaFileReader"));h.exports=f},{"./MediaFileReader":10}],4:[function(f,h,m){function k(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var l=function(){function c(b,a){for(var e=0;e<a.length;e++){var g=a[e];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),d=f("./ChunkedFileData");f=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e;e=Object.getPrototypeOf(b).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e._blob=a;e._fileData=
new d;return e}k(b,c);l(b,[{key:"_init",value:function(a){this._size=this._blob.size;setTimeout(a.onSuccess,1)}},{key:"loadRange",value:function(a,b){var g=this,c=(this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice).call(this._blob,a[0],a[1]+1),d=new FileReader;d.onloadend=function(c){c=new Uint8Array(d.result);g._fileData.addData(a[0],c);b.onSuccess()};d.onerror=d.onabort=function(a){if(b.onError)b.onError({type:"blob",info:d.error})};d.readAsArrayBuffer(c)}},{key:"getByteAt",value:function(a){return this._fileData.getByteAt(a)}}],
[{key:"canReadFile",value:function(a){return"undefined"!==typeof Blob&&a instanceof Blob||"undefined"!==typeof File&&a instanceof File}}]);return b}(f("./MediaFileReader"));h.exports=f},{"./ChunkedFileData":5,"./MediaFileReader":10}],5:[function(f,h,m){var k=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}();
f=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._fileData=[]}k(f,null,[{key:"NOT_FOUND",get:function(){return-1}}]);k(f,[{key:"addData",value:function(d,c){var b=d+c.length-1,a=this._getChunkRange(d,b);if(-1===a.startIx)this._fileData.splice(a.insertIx||0,0,{offset:d,data:c});else{var e=this._fileData[a.startIx],g=this._fileData[a.endIx],b=b<g.offset+g.data.length-1,p={offset:Math.min(d,e.offset),data:c};d>e.offset&&(e=this._sliceData(e.data,
0,d-e.offset),p.data=this._concatData(e,c));b&&(e=this._sliceData(p.data,0,g.offset-p.offset),p.data=this._concatData(e,g.data));this._fileData.splice(a.startIx,a.endIx-a.startIx+1,p)}}},{key:"_concatData",value:function(d,c){if("undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView(d)){var b=new d.constructor(d.length+c.length);b.set(d,0);b.set(c,d.length);return b}return d.concat(c)}},{key:"_sliceData",value:function(d,c,b){return d.slice?d.slice(c,b):d.subarray(c,b)}},{key:"_getChunkRange",value:function(d,
c){for(var b=-1,a=-1,e=0,g=0;g<this._fileData.length;g++,e=g){var p=this._fileData[g].offset,q=p+this._fileData[g].data.length;if(c<p-1)break;if(d<=q+1&&c>=p-1){b=g;break}}if(-1===b)return{startIx:-1,endIx:-1,insertIx:e};for(g=b;g<this._fileData.length&&!(p=this._fileData[g].offset,q=p+this._fileData[g].data.length,c>=p-1&&(a=g),c<=q+1);g++);-1===a&&(a=b);return{startIx:b,endIx:a}}},{key:"hasDataRange",value:function(d,c){for(var b=0;b<this._fileData.length;b++){var a=this._fileData[b];if(c<a.offset)break;
if(d>=a.offset&&c<a.offset+a.data.length)return!0}return!1}},{key:"getByteAt",value:function(d){for(var c,b=0;b<this._fileData.length;b++){var a=this._fileData[b].offset,e=a+this._fileData[b].data.length-1;if(d>=a&&d<=e){c=this._fileData[b];break}}if(c)return c.data[d-c.offset];throw Error("Offset "+d+" hasn't been loaded yet.");}}]);return f}();h.exports=f},{}],6:[function(f,h,m){function k(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var l=function(){function c(b,a){for(var e=0;e<a.length;e++){var g=a[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}();m=f("./MediaTagReader");f("./MediaFileReader");f=function(c){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var a=Object.getPrototypeOf(b).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}k(b,c);l(b,[{key:"_loadData",value:function(a,b){var g=a.getSize();a.loadRange([g-128,g-1],b)}},{key:"_parseData",value:function(a,b){var g=a.getSize()-128,c=a.getStringWithCharsetAt(g+3,30).toString(),q=a.getStringWithCharsetAt(g+33,
30).toString(),r=a.getStringWithCharsetAt(g+63,30).toString(),f=a.getStringWithCharsetAt(g+93,4).toString(),u=a.getByteAt(g+97+28),n=a.getByteAt(g+97+29);if(0==u&&0!=n)var u="1.1",x=a.getStringWithCharsetAt(g+97,28).toString();else u="1.0",x=a.getStringWithCharsetAt(g+97,30).toString(),n=0;g=a.getByteAt(g+97+30);c={type:"ID3",version:u,tags:{title:c,artist:q,album:r,year:f,comment:x,genre:255>g?d[g]:""}};n&&(c.tags.track=n);return c}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,
length:128}}},{key:"canReadTagFormat",value:function(a){return"TAG"===String.fromCharCode.apply(String,a.slice(0,3))}}]);return b}(m);var d="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");
h.exports=f},{"./MediaFileReader":10,"./MediaTagReader":11}],7:[function(f,h,m){function k(b){var a;switch(b){case 0:a="iso-8859-1";break;case 1:a="utf-16";break;case 2:a="utf-16be";break;case 3:a="utf-8"}return a}function l(b,a,e,g){g=e.getStringWithCharsetAt(b+1,a-1,g);b=e.getStringWithCharsetAt(b+1+g.bytesReadCount,a-1-g.bytesReadCount);return{user_description:g.toString(),data:b.toString()}}f("./MediaFileReader");var d={APIC:function(b,a,e,g,p){p=p||"3";g=b;var d=k(e.getByteAt(b));switch(p){case "2":p=
e.getStringAt(b+1,3);b+=4;break;case "3":case "4":p=e.getStringWithCharsetAt(b+1,a-1);b+=1+p.bytesReadCount;break;default:throw Error("Couldn't read ID3v2 major version.");}var r=e.getByteAt(b,1),r=c[r],d=e.getStringWithCharsetAt(b+1,a-(b-g)-1,d);b+=1+d.bytesReadCount;return{format:p.toString(),type:r,description:d.toString(),data:e.getBytesAt(b,g+a-b)}},COMM:function(b,a,e,g,c){var d=b,r=k(e.getByteAt(b));g=e.getStringAt(b+1,3);c=e.getStringWithCharsetAt(b+4,a-4,r);b+=4+c.bytesReadCount;b=e.getStringWithCharsetAt(b,
d+a-b,r);return{language:g,short_description:c.toString(),text:b.toString()}}};d.COM=d.COMM;d.PIC=function(b,a,e,g,c){return d.APIC(b,a,e,g,"2")};d.PCNT=function(b,a,e,g,c){return e.getLongAt(b,!1)};d.CNT=d.PCNT;d["T*"]=function(b,a,e,g,c){g=k(e.getByteAt(b));return e.getStringWithCharsetAt(b+1,a-1,g).toString()};d.TXXX=function(b,a,e,g,c){g=k(e.getByteAt(b));return l(b,a,e,g)};d["W*"]=function(b,a,e,g,c){g=k(e.getByteAt(b));return void 0!==g?l(b,a,e,g):e.getStringWithCharsetAt(b,a,g).toString()};
d.TCON=function(b,a,e,g){return d["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")};d.TCO=d.TCON;d.USLT=function(b,a,e,g,c){var d=b,r=k(e.getByteAt(b));g=e.getStringAt(b+1,3);c=e.getStringWithCharsetAt(b+4,a-4,r);b+=4+c.bytesReadCount;b=e.getStringWithCharsetAt(b,d+a-b,r);return{language:g,descriptor:c.toString(),lyrics:b.toString()}};d.ULT=d.USLT;var c="Other;32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. label side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");
h.exports={getFrameReaderFunction:function(b){return b in d?d[b]:"T"===b[0]?d["T*"]:"W"===b[0]?d["W*"]:null}}},{"./MediaFileReader":10}],8:[function(f,h,m){function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var l=function(){function a(b,
e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();m=f("./MediaTagReader");f("./MediaFileReader");var d=f("./ArrayFileReader"),c=f("./ID3v2FrameReader");f=function(e){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var a=Object.getPrototypeOf(g).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}k(g,e);l(g,[{key:"_loadData",value:function(a,b){a.loadRange([6,9],{onSuccess:function(){a.loadRange([0,10+a.getSynchsafeInteger32At(6)-1],b)},onError:b.onError})}},{key:"_parseData",value:function(b,e){var c=0,g=b.getByteAt(c+3);if(4<g)return{type:"ID3",version:">2.4",tags:{}};var d=b.getByteAt(c+4),n=b.isBitSetAt(c+5,7),f=b.isBitSetAt(c+5,6),l=b.isBitSetAt(c+5,5),t=b.getSynchsafeInteger32At(c+6),c=c+10;if(f)var k=b.getLongAt(c,!0),c=c+
(k+4);var g={type:"ID3",version:"2."+g+"."+d,major:g,revision:d,flags:{unsynchronisation:n,extended_header:f,experimental_indicator:l,footer_present:!1},size:t,tags:{}},c=this._readFrames(c,t+10,b,g,e),h;for(h in a)a.hasOwnProperty(h)&&(t=this._getFrameData(c,a[h]))&&(g.tags[h]=t);for(var m in c)c.hasOwnProperty(m)&&(g.tags[m]=c[m]);return g}},{key:"_getUnsyncFileReader",value:function(a,b,c){a=a.getBytesAt(b,c);for(b=0;b<a.length-1;b++)255===a[b]&&0===a[b+1]&&a.splice(b+1,1);return new d(a)}},{key:"_readFrames",
value:function(a,b,e,g,d){var n={};for(d&&(d=this._expandShortcutTags(d));a<b;){var f=this._readFrameHeader(e,a,g),l=f.id;if(!l)break;var t=f.flags,h=f.size,k=a+f.headerSize,m=e;a+=f.headerSize+f.size;if(!d||-1!==d.indexOf(l)){if(g.flags.unsynchronisation||t&&t.format.unsynchronisation)m=this._getUnsyncFileReader(m,k,h),k=0,h=m.getSize();t&&t.format.data_length_indicator&&(k+=4,h-=4);t=(f=c.getFrameReaderFunction(l))?f(k,h,m,t):null;k=this._getFrameDescription(l);h={id:l,size:h,description:k,data:t};
l in n?(n[l].id&&(n[l]=[n[l]]),n[l].push(h)):n[l]=h}}return n}},{key:"_readFrameHeader",value:function(a,b,c){c=c.major;var e=null;switch(c){case 2:var g=a.getStringAt(b,3),d=a.getInteger24At(b+3,!0),f=6;break;case 3:g=a.getStringAt(b,4);d=a.getLongAt(b+4,!0);f=10;break;case 4:g=a.getStringAt(b,4),d=a.getSynchsafeInteger32At(b+4),f=10}if(g==String.fromCharCode(0,0,0)||g==String.fromCharCode(0,0,0,0))g="";g&&2<c&&(e=this._readFrameFlags(a,b+8));return{id:g||"",size:d||0,headerSize:f||0,flags:e}}},
{key:"_readFrameFlags",value:function(a,b){return{message:{tag_alter_preservation:a.isBitSetAt(b,6),file_alter_preservation:a.isBitSetAt(b,5),read_only:a.isBitSetAt(b,4)},format:{grouping_identity:a.isBitSetAt(b+1,7),compression:a.isBitSetAt(b+1,3),encryption:a.isBitSetAt(b+1,2),unsynchronisation:a.isBitSetAt(b+1,1),data_length_indicator:a.isBitSetAt(b+1,0)}}}},{key:"_getFrameData",value:function(a,b){for(var c=0,e;e=b[c];c++)if(e in a)return a[e].data}},{key:"_getFrameDescription",value:function(a){return a in
b?b[a]:"Unknown"}},{key:"getShortcuts",value:function(){return a}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:10}}},{key:"canReadTagFormat",value:function(a){return"ID3"===String.fromCharCode.apply(String,a.slice(0,3))}}]);return g}(m);var b={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",
MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",
TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",
TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",
AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",
POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",
TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",
TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",
TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},a={title:["TIT2","TT2"],
artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};h.exports=f},{"./ArrayFileReader":3,"./ID3v2FrameReader":7,"./MediaFileReader":10,"./MediaTagReader":11}],9:[function(f,h,m){function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();m=f("./MediaTagReader");f("./MediaFileReader");f=function(a){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
var a=Object.getPrototypeOf(e).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}k(e,a);l(e,[{key:"_loadData",value:function(a,b){var c=this;a.loadRange([0,16],{onSuccess:function(){c._loadAtom(a,0,"",b)},onError:b.onError})}},{key:"_loadAtom",value:function(a,b,c,e){if(b>=a.getSize())e.onSuccess();else{var d=this,f=a.getLongAt(b,!0);if(0==f||isNaN(f))e.onSuccess();else{var n=
a.getStringAt(b+4,4);if(this._isContainerAtom(n)){"meta"==n&&(b+=4);var l=(c?c+".":"")+n;"moov.udta.meta.ilst"===l?a.loadRange([b,b+f],e):a.loadRange([b+8,b+8+8],{onSuccess:function(){d._loadAtom(a,b+8,l,e)},onError:e.onError})}else a.loadRange([b+f,b+f+8],{onSuccess:function(){d._loadAtom(a,b+f,c,e)},onError:e.onError})}}}},{key:"_isContainerAtom",value:function(a){return 0<=["moov","udta","meta","ilst"].indexOf(a)}},{key:"_canReadAtom",value:function(a){return"----"!==a}},{key:"_parseData",value:function(a,
c){var e={};c=this._expandShortcutTags(c);this._readAtom(e,a,0,a.getSize(),c);for(var d in b)if(b.hasOwnProperty(d)){var f=e[b[d]];f&&(e[d]="track"===d?f.data.track:f.data)}return{type:"MP4",ftyp:a.getStringAt(8,4),version:a.getLongAt(12,!0),tags:e}}},{key:"_readAtom",value:function(a,b,c,e,d,f,n){n=void 0===n?"":n+"  ";for(var l=c;l<c+e;){var h=b.getLongAt(l,!0);if(0==h)break;var k=b.getStringAt(l+4,4);if(this._isContainerAtom(k)){"meta"==k&&(l+=4);this._readAtom(a,b,l+8,h-8,d,(f?f+".":"")+k,n);
break}(!d||0<=d.indexOf(k))&&"moov.udta.meta.ilst"===f&&this._canReadAtom(k)&&(a[k]=this._readMetadataAtom(b,l));l+=h}}},{key:"_readMetadataAtom",value:function(a,b){var e=a.getLongAt(b,!0),f=a.getStringAt(b+4,4),l=a.getInteger24At(b+16+1,!0),l=d[l],k;if("trkn"==f)k={track:a.getByteAt(b+16+11),total:a.getByteAt(b+16+13)};else{var n=b+24,h=e-24;"covr"===f&&"uint8"===l&&(l="jpeg");switch(l){case "text":k=a.getStringWithCharsetAt(n,h,"utf-8").toString();break;case "uint8":k=a.getShortAt(n,!1);break;
case "int":case "uint":k=("int"==l?1==h?a.getSByteAt:2==h?a.getSShortAt:4==h?a.getSLongAt:a.getLongAt:1==h?a.getByteAt:2==h?a.getShortAt:a.getLongAt).call(a,n+(8==h?4:0),!0);break;case "jpeg":case "png":k={format:"image/"+l,data:a.getBytesAt(n,h)}}}return{id:f,size:e,description:c[f]||"Unknown",data:k}}},{key:"getShortcuts",value:function(){return b}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(a){return"ftyp"===String.fromCharCode.apply(String,
a.slice(4,8))}}]);return e}(m);var d={0:"uint8",1:"text",13:"jpeg",14:"png",21:"int",22:"uint"},c={"\u00a9alb":"Album","\u00a9ART":"Artist",aART:"Album Artist","\u00a9day":"Release Date","\u00a9nam":"Title","\u00a9gen":"Genre",gnre:"Genre",trkn:"Track Number","\u00a9wrt":"Composer","\u00a9too":"Encoding Tool","\u00a9enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","\u00a9grp":"Grouping",keyw:"Keywords","\u00a9lyr":"Lyrics","\u00a9cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",
tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code",atID:"Artist ID",cnID:"Catalog ID",plID:"Collection ID",geID:"Genre ID","xid ":"Vendor Information",
flvr:"Codec Flavor"},b={title:"\u00a9nam",artist:"\u00a9ART",album:"\u00a9alb",year:"\u00a9day",comment:"\u00a9cmt",track:"trkn",genre:"\u00a9gen",picture:"covr",lyrics:"\u00a9lyr"};h.exports=f},{"./MediaFileReader":10,"./MediaTagReader":11}],10:[function(f,h,m){var k=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),
l=f("./StringUtils");f=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._isInitialized=!1;this._size=0}k(d,[{key:"init",value:function(c){var b=this;if(this._isInitialized)setTimeout(c.onSuccess,1);else return this._init({onSuccess:function(){b._isInitialized=!0;c.onSuccess()},onError:c.onError})}},{key:"_init",value:function(c){throw Error("Must implement init function");}},{key:"loadRange",value:function(c,b){throw Error("Must implement loadRange function");
}},{key:"getSize",value:function(){if(!this._isInitialized)throw Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(c){throw Error("Must implement getByteAt function");}},{key:"getBytesAt",value:function(c,b){for(var a=Array(b),e=0;e<b;e++)a[e]=this.getByteAt(c+e);return a}},{key:"isBitSetAt",value:function(c,b){return 0!=(this.getByteAt(c)&1<<b)}},{key:"getSByteAt",value:function(c){c=this.getByteAt(c);return 127<c?c-256:c}},{key:"getShortAt",value:function(c,
b){var a=b?(this.getByteAt(c)<<8)+this.getByteAt(c+1):(this.getByteAt(c+1)<<8)+this.getByteAt(c);0>a&&(a+=65536);return a}},{key:"getSShortAt",value:function(c,b){var a=this.getShortAt(c,b);return 32767<a?a-65536:a}},{key:"getLongAt",value:function(c,b){var a=this.getByteAt(c),e=this.getByteAt(c+1),d=this.getByteAt(c+2),f=this.getByteAt(c+3),a=b?(((a<<8)+e<<8)+d<<8)+f:(((f<<8)+d<<8)+e<<8)+a;0>a&&(a+=4294967296);return a}},{key:"getSLongAt",value:function(c,b){var a=this.getLongAt(c,b);return 2147483647<
a?a-4294967296:a}},{key:"getInteger24At",value:function(c,b){var a=this.getByteAt(c),e=this.getByteAt(c+1),d=this.getByteAt(c+2),a=b?((a<<8)+e<<8)+d:((d<<8)+e<<8)+a;0>a&&(a+=16777216);return a}},{key:"getStringAt",value:function(c,b){for(var a=[],e=c,d=0;e<c+b;e++,d++)a[d]=String.fromCharCode(this.getByteAt(e));return a.join("")}},{key:"getStringWithCharsetAt",value:function(c,b,a){c=this.getBytesAt(c,b);switch((a||"").toLowerCase()){case "utf-16":case "utf-16le":case "utf-16be":a=l.readUTF16String(c,
"utf-16be"===a);break;case "utf-8":a=l.readUTF8String(c);break;default:a=l.readNullTerminatedString(c)}return a}},{key:"getCharAt",value:function(c){return String.fromCharCode(this.getByteAt(c))}},{key:"getSynchsafeInteger32At",value:function(c){var b=this.getByteAt(c),a=this.getByteAt(c+1),e=this.getByteAt(c+2);return this.getByteAt(c+3)&127|(e&127)<<7|(a&127)<<14|(b&127)<<21}}],[{key:"canReadFile",value:function(c){throw Error("Must implement canReadFile function");}}]);return d}();h.exports=f},
{"./StringUtils":12}],11:[function(f,h,m){var k=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}();f("./MediaFileReader");f=function(){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._mediaFileReader=d;this._tags=null}k(f,[{key:"setTagsToRead",value:function(d){this._tags=
d;return this}},{key:"read",value:function(d){var c=this;this._mediaFileReader.init({onSuccess:function(){c._loadData(c._mediaFileReader,{onSuccess:function(){try{var b=c._parseData(c._mediaFileReader,c._tags)}catch(a){if(d.onError){d.onError({type:"parseData",info:a.message});return}}d.onSuccess(b)},onError:d.onError})},onError:d.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(d,c){throw Error("Must implement _loadData function");}},{key:"_parseData",value:function(d,
c){throw Error("Must implement _parseData function");}},{key:"_expandShortcutTags",value:function(d){if(!d)return null;for(var c=[],b=this.getShortcuts(),a=0,e;e=d[a];a++)c=c.concat(b[e]||[e]);return c}}],[{key:"getTagIdentifierByteRange",value:function(){throw Error("Must implement");}},{key:"canReadTagFormat",value:function(d){throw Error("Must implement");}}]);return f}();h.exports=f},{"./MediaFileReader":10}],12:[function(f,h,m){var k=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=
b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),l=function(){function d(c,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._value=c;this.bytesReadCount=b;this.length=c.length}k(d,[{key:"toString",value:function(){return this._value}}]);return d}();h.exports={readUTF16String:function(d,c,b){var a=0,e=1,g=0;b=Math.min(b||d.length,
d.length);254==d[0]&&255==d[1]?(c=!0,a=2):255==d[0]&&254==d[1]&&(c=!1,a=2);c&&(e=0,g=1);c=[];for(var f=0;a<b;f++){var h=d[a+e],k=(h<<8)+d[a+g],a=a+2;if(0==k)break;else 216>h||224<=h?c[f]=String.fromCharCode(k):(h=(d[a+e]<<8)+d[a+g],a+=2,c[f]=String.fromCharCode(k,h))}return new l(c.join(""),a)},readUTF8String:function(d,c){var b=0;c=Math.min(c||d.length,d.length);239==d[0]&&187==d[1]&&191==d[2]&&(b=3);for(var a=[],e=0;b<c;e++){var g=d[b++];if(0==g)break;else if(128>g)a[e]=String.fromCharCode(g);else if(194<=
g&&224>g){var f=d[b++];a[e]=String.fromCharCode(((g&31)<<6)+(f&63))}else if(224<=g&&240>g){var f=d[b++],h=d[b++];a[e]=String.fromCharCode(((g&255)<<12)+((f&63)<<6)+(h&63))}else if(240<=g&&245>g){var f=d[b++],h=d[b++],k=d[b++],g=((g&7)<<18)+((f&63)<<12)+((h&63)<<6)+(k&63)-65536;a[e]=String.fromCharCode((g>>10)+55296,(g&1023)+56320)}}return new l(a.join(""),b)},readNullTerminatedString:function(d,c){var b=[];c=c||d.length;for(var a=0;a<c;){var e=d[a++];if(0==e)break;b[a-1]=String.fromCharCode(e)}return new l(b.join(""),
a)}}},{}],13:[function(f,h,m){function k(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var l=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,
d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),d=f("./ChunkedFileData");m=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c;c=Object.getPrototypeOf(b).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c._url=a;c._fileData=new d;return c}k(b,c);l(b,[{key:"_init",value:function(a){b._config.avoidHeadRequests?
this._fetchSizeWithGetRequest(a):this._fetchSizeWithHeadRequest(a)}},{key:"_fetchSizeWithHeadRequest",value:function(a){var b=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(c){(c=b._parseContentLength(c))?(b._size=c,a.onSuccess()):b._fetchSizeWithGetRequest(a)},onError:a.onError})}},{key:"_fetchSizeWithGetRequest",value:function(a){var b=this,c=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",c,{onSuccess:function(c){var d=b._parseContentRange(c);c=b._getXhrResponseContent(c);
if(d){if(null==d.instanceLength){b._fetchEntireFile(a);return}b._size=d.instanceLength}else b._size=c.length;b._fileData.addData(0,c);a.onSuccess()},onError:a.onError})}},{key:"_fetchEntireFile",value:function(a){var b=this;this._makeXHRRequest("GET",null,{onSuccess:function(c){c=b._getXhrResponseContent(c);b._size=c.length;b._fileData.addData(0,c);a.onSuccess()},onError:a.onError})}},{key:"_getXhrResponseContent",value:function(a){return a.responseBody||a.responseText||""}},{key:"_parseContentLength",
value:function(a){a=this._getResponseHeader(a,"Content-Length");return null==a?a:parseInt(a,10)}},{key:"_parseContentRange",value:function(a){if(a=this._getResponseHeader(a,"Content-Range")){var b=a.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);if(!b)throw Error("FIXME: Unknown Content-Range syntax: ",a);return{firstBytePosition:parseInt(b[1],10),lastBytePosition:parseInt(b[2],10),instanceLength:b[3]?parseInt(b[3],10):null}}return null}},{key:"loadRange",value:function(a,b){var c=this;c._fileData.hasDataRange(a[0],
Math.min(c._size,a[1]))?setTimeout(b.onSuccess,1):(a=this._roundRangeToChunkMultiple(a),a[1]=Math.min(c._size,a[1]),this._makeXHRRequest("GET",a,{onSuccess:function(d){d=c._getXhrResponseContent(d);c._fileData.addData(a[0],d);b.onSuccess()},onError:b.onError}))}},{key:"_roundRangeToChunkMultiple",value:function(a){return[a[0],a[0]+1024*Math.ceil((a[1]-a[0]+1)/1024)-1]}},{key:"_makeXHRRequest",value:function(a,c,d){var f=this._createXHRObject(),h=function(){if(200===f.status||206===f.status)d.onSuccess(f);
else if(d.onError)d.onError({type:"xhr",info:"Unexpected HTTP status "+f.status+".",xhr:f});f=null};"undefined"!==typeof f.onload?(f.onload=h,f.onerror=function(){if(d.onError)d.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:f})}):f.onreadystatechange=function(){4===f.readyState&&h()};b._config.timeoutInSec&&(f.timeout=1E3*b._config.timeoutInSec,f.ontimeout=function(){if(d.onError)d.onError({type:"xhr",info:"Timeout after "+f.timeout/1E3+"s. Use jsmediatags.Config.setXhrTimeout to override.",
xhr:f})});f.open(a,this._url);f.overrideMimeType("text/plain; charset=x-user-defined");c&&this._setRequestHeader(f,"Range","bytes="+c[0]+"-"+c[1]);this._setRequestHeader(f,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT");f.send(null)}},{key:"_setRequestHeader",value:function(a,c,d){0>b._config.disallowedXhrHeaders.indexOf(c.toLowerCase())&&a.setRequestHeader(c,d)}},{key:"_hasResponseHeader",value:function(a,b){var c=a.getAllResponseHeaders();if(!c)return!1;for(var c=c.split("\r\n"),d=[],f=0;f<
c.length;f++)d[f]=c[f].split(":")[0].toLowerCase();return 0<=d.indexOf(b.toLowerCase())}},{key:"_getResponseHeader",value:function(a,b){return this._hasResponseHeader(a,b)?a.getResponseHeader(b):null}},{key:"getByteAt",value:function(a){return this._fileData.getByteAt(a).charCodeAt(0)&255}},{key:"_createXHRObject",value:function(){if("undefined"===typeof window)return new (f("xhr2").XMLHttpRequest);if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw Error("XMLHttpRequest is not supported");
}}],[{key:"canReadFile",value:function(a){return"string"===typeof a&&/^[a-z]+:\/\//i.test(a)}},{key:"setConfig",value:function(a){for(var b in a)a.hasOwnProperty(b)&&(this._config[b]=a[b]);a=this._config.disallowedXhrHeaders;for(b=0;b<a.length;b++)a[b]=a[b].toLowerCase()}}]);return b}(f("./MediaFileReader"));m._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30};h.exports=m},{"./ChunkedFileData":5,"./MediaFileReader":10,xhr2:2}],14:[function(f,h,m){function k(a,b){if(!(a instanceof
b))throw new TypeError("Cannot call a class as a function");}function l(a,b){var c=0>a.offset&&(-a.offset>b||0<a.offset+a.length);return!(0<=a.offset&&a.offset+a.length>=b||c)}var d=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();f("./MediaFileReader");m=f("./NodeFileReader");var c=f("./XhrFileReader"),b=
f("./BlobFileReader"),a=f("./ArrayFileReader");f("./MediaTagReader");var e=f("./ID3v1TagReader"),g=f("./ID3v2TagReader");f=f("./MP4TagReader");var p=[],q=[],r=function(){function a(b){k(this,a);this._file=b}d(a,[{key:"setTagsToRead",value:function(a){this._tagsToRead=a;return this}},{key:"setFileReader",value:function(a){this._fileReader=a;return this}},{key:"setTagReader",value:function(a){this._tagReader=a;return this}},{key:"read",value:function(a){var b=new (this._getFileReader())(this._file),
c=this;b.init({onSuccess:function(){c._getTagReader(b,{onSuccess:function(d){(new d(b)).setTagsToRead(c._tagsToRead).read(a)},onError:a.onError})},onError:a.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var a=0;a<p.length;a++)if(p[a].canReadFile(this._file))return p[a];throw Error("No suitable file reader found for ",this._file);}},{key:"_getTagReader",value:function(a,b){if(this._tagReader){var c=
this._tagReader;setTimeout(function(){b.onSuccess(c)},1)}else this._findTagReader(a,b)}},{key:"_findTagReader",value:function(a,b){for(var c=[],d=[],e=a.getSize(),f=0;f<q.length;f++){var g=q[f].getTagIdentifierByteRange();l(g,e)&&(0<=g.offset&&g.offset<e/2||0>g.offset&&g.offset<-e/2?c.push(q[f]):d.push(q[f]))}var h=!1,f={onSuccess:function(){if(h){for(var c=0;c<q.length;c++){var d=q[c].getTagIdentifierByteRange();if(l(d,e)){try{var f=a.getBytesAt(0<=d.offset?d.offset:d.offset+e,d.length)}catch(g){if(b.onError){b.onError({type:"fileReader",
info:g.message});return}}if(q[c].canReadTagFormat(f)){b.onSuccess(q[c]);return}}}if(b.onError)b.onError({type:"tagFormat",info:"No suitable tag reader found"})}else h=!0},onError:b.onError};this._loadTagIdentifierRanges(a,c,f);this._loadTagIdentifierRanges(a,d,f)}},{key:"_loadTagIdentifierRanges",value:function(a,b,c){if(0===b.length)setTimeout(c.onSuccess,1);else{for(var d=[Number.MAX_VALUE,0],e=a.getSize(),f=0;f<b.length;f++){var g=b[f].getTagIdentifierByteRange(),h=0<=g.offset?g.offset:g.offset+
e,g=h+g.length-1;d[0]=Math.min(h,d[0]);d[1]=Math.max(g,d[1])}a.loadRange(d,c)}}}]);return a}(),w=function(){function a(){k(this,a)}d(a,null,[{key:"addFileReader",value:function(b){p.push(b);return a}},{key:"addTagReader",value:function(b){q.push(b);return a}},{key:"removeTagReader",value:function(b){b=q.indexOf(b);0<=b&&q.splice(b,1);return a}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){c.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(a){c.setConfig({disallowedXhrHeaders:a})}},
{key:"setXhrTimeoutInSec",value:function(a){c.setConfig({timeoutInSec:a})}}]);return a}();w.addFileReader(c).addFileReader(b).addFileReader(a).addTagReader(g).addTagReader(e).addTagReader(f);"undefined"!==typeof process&&w.addFileReader(m);h.exports={read:function(a,b){(new r(a)).read(b)},Reader:r,Config:w}},{"./ArrayFileReader":3,"./BlobFileReader":4,"./ID3v1TagReader":6,"./ID3v2TagReader":8,"./MP4TagReader":9,"./MediaFileReader":10,"./MediaTagReader":11,"./NodeFileReader":1,"./XhrFileReader":13}]},
{},[14])(14)});
</script>
<script>
var listshow=true;
var audiofiles=[];
var audio;
var playlist;
var tracks;
var current;
var randon=false;
function init(){
    var num=0;
    current = 0;
    audio = document.getElementById('audio');
    playlist = document.querySelector('#playlist');
    tracks = document.querySelectorAll('#playlist li a');
    len = tracks.length;
    audio.volume = 1.0;
    document.getElementById('showL').onclick=function(el){
        listshow = !listshow;
        if (listshow){
            document.getElementById('playlist').style.visibility="visible";
            document.getElementById('playlist').style.height="auto";
            document.getElementById('showlist').innerHTML="&and;";
            document.getElementById('c0').style.padding="0px 0px 24px 0px";
//#c0{position:relative;padding:0px 0px 24px 0px;margin:0px;}
        }else{
            document.getElementById('playlist').style.visibility="hidden";
            document.getElementById('playlist').style.height="0";
            document.getElementById('showlist').innerHTML="&or;";
            document.getElementById('c0').style.padding="0px 0px 4px 0px";
        }
    }
    document.getElementById('audio').addEventListener('ended',function(e){
        e.preventDefault();
        playnext();
    }, false);
}
function playnext(){
    current++;
    if(randon){
        randomcur();
    }
    if(current >= len){
        current = 0;
    }
    run(current);
    playbutton.className = "";
    playbutton.className = "pause";
}
function playprev(){
    current--;
    if(current < 0){
        current = len-1;
    }
    run(current);
    playbutton.className = "";
    playbutton.className = "pause";
}
function randomcur(){
    var i=current-1;
    if (len>1){
        while(i==current-1){
            i=Math.floor(Math.random()*len);
        }
    }
    console.log(current);
    current=i;
    console.log(current);
}
function addheights()
{
    var a=178;
    a+=document.getElementById("titlediv").offsetHeight;
    a+=document.getElementById("audio").offsetHeight;
    return window.innerHeight-a;
}
function processdir(e) 
{
    var files=e.files;
    var output=[], i, f, once=true;
    for(i=0;f=files[i];i++) {
        if((f.name.slice(-4)===".mp3")||(f.name.slice(-4)===".m4a")){
            audiofiles.push(f);
        }
    }
    rhref(0);
    playbutton.className = "";
    playbutton.className = "pause";
}
function rhref(n){
    if(n<audiofiles.length){
        jsmediatags.read(audiofiles[n], {
            onSuccess: function(tag) {
                tags = tag.tags;
                if(n===0){
                    document.getElementById('playlist').innerHTML=('<li id="a'+n+'" class="active"><a href="#" id="b'+n+'" onclick="script:run('+n+')">'+tags.artist+'-'+tags.title+'</a></li>');
                }
                else{
                    document.getElementById('playlist').innerHTML+=('<li id="a'+n+'"><a href="#" id="b'+n+'" onclick="script:run('+n+')">'+tags.artist+'-'+tags.title+'</a></li>');
                }
                rhref(n+1);
            },
            onError: function(error){
                if (n===0){
                    document.getElementById('playlist').innerHTML=('<li id="a'+i+'" class="active"><a href="#" id="b'+i+'" onclick="script:run('+i+')">'+f.name.slice(0,-4)+'</a></li>');
                }
                else{
                    document.getElementById('playlist').innerHTML+=('<li id="a'+i+'"><a href="#" id="b'+i+'" onclick="script:run('+i+')">'+f.name.slice(0,-4)+'</a></li>');
                }
                rhref(n+1);   
            }
        });
    }
    else{
        init();
        document.getElementById("songtitle").innerHTML=document.getElementById('b0').innerHTML;
        runfile(0);
        document.getElementById("playlist").style.maxHeight=addheights();
    }
}
function run(n){
    for(i=0;i<audiofiles.length;i++){
        if(document.getElementById('a'+i).classList.contains('active')){
            document.getElementById('a'+i).classList.remove('active')
        }
    }
    document.getElementById('a'+n).classList.add('active');
    document.getElementById("songtitle").innerHTML=document.getElementById('b'+n).innerHTML;
    runfile(n);
}
function runfile(n){
    var freader=new FileReader(),
    f=audiofiles[n],
    aud=document.getElementById("audio");
    freader.onload=function(e) 
    {
        aud.src=e.target.result;
        aud.play();
    };
    freader.readAsDataURL(f);
    current=n;
}
function formattime(totalSeconds){
    var hours   = Math.floor(totalSeconds / 3600);
    var minutes = Math.floor((totalSeconds - (hours * 3600)) / 60);
    var seconds = totalSeconds - (hours * 3600) - (minutes * 60);
    seconds = Math.floor(seconds);
    var result="";
    if(hours>0){
        result += hours + ":" + (minutes < 10 ? "0" + minutes : minutes);
    }
    else{
        result += minutes;
    }
    result += ":" + (seconds  < 10 ? "0" + seconds : seconds);
    return result;
}
function shuffle(){
    if(randon){
        document.getElementById("shufB").className="";
        document.getElementById("shufB").className="shuffle";
    }
    else{
        document.getElementById("shufB").className="";
        document.getElementById("shufB").className="loop";
    }
    randon=!(randon);
}
</script>
    <div id="container">
        <div id="titlediv" class="rightcss"><div><center><strong id="songtitle"></strong></center></div></div>
        <audio id="audio" preload="auto" tabindex="0" type="audio/mpeg">
        </audio>
	<div id="wrapper">
		<div id="audioplayer">
            <table id="timer" style="width:100%">
            <tr>
            <td style="width:20%;">
            <div id="playedtime"></div>
            </td>
            <td style="width:80%;">
			<div id="timeline">
				<div id="playhead"></div>
			</div>
            </td>
            </tr>
            </table>
            <br>
            <table id="butts" border="0" style="width:100%;background:#606060;">
            <tr>
            <td style="width:15%;">
			<button id="prevButton"><div class="icon"><div id="prevB" class="prev"></div></div></button>
            </td>
            <td style="width:15%;">
			<button id="pButton"><div class="icon"><div id="playbutton" class="play"></div></div></button>
            </td>
            <td style="width:15%;">
			<button id="nextButton"><div class="icon"><div id="nextB" class="next"></div></div></button>
            </td>
            <td style="width:55%;">
			<button id="shufButton"><div class="icon"><div id="shufB" class="shuffle"></div></div></button>
            </td>
            </tr>
            </table>
        </div>
<br><br><br>
	</div>
        <div id="wrap">
            <div id="c0">
            <div id="c1">
            <button id='showL'><span id='showlist'>&and;</span></button>
            </div>
            </div>
            <ul id="playlist" style="list-style-type:none;overflow-y:auto;">
            <div id="dirdiv" style="">
                <input type="file" id="file-input" class="custom-dir" webkitdirectory="" directory="" onchange="processdir(this)">
            </div>
            </ul>
        </div>
    </div>
<style>
#showL{
    position:relative;
    top:-10px;
}
#butts{
    position:relative;
    top:-20px;
}
#timer{
    position:relative;
    top:0px;
}
div.loop {
  border:none;
  width:40px;
  height:40px;
  background: #606060;
  background-image:
url(data:image/png;base64,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);
  background-size:40px;
  background-repeat:no-repeat;
}
div.shuffle {
  border:none;
  width:40px;
  height:40px;
  background: #606060;
  background-image:
url(data:image/png;base64,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);
  background-size:40px;
  background-repeat:no-repeat;
}
table{
    width:100%;
}
td{
    background: #606060;
}
#playedtime{
/*    font-size:10;*/
    margin:auto;
    text-align:center;
    color:white;
    padding-left:5px;
    padding-right:5px;
    padding-top:23px;
/*    float:left;*/
}
#songlength{
    font-size:10;
    color:white;
    padding-left:5px;
    padding-right:5px;
    padding-top:23px;
    float:right;
}
#audioplayer{
	width: 440px;
	height: 60px;
    background: #606060;
/*	margin: auto;
	margin-top: 50px;
	border: solid;*/
}
#shufButton {
    background: #606060;
    outline:none;
	height:60px;
	width: 60px;
	border: none;
	background-size: 50% 50%;
	background-repeat: no-repeat;
	background-position: center;
    float:right;
/*    position:relative;
    left:0px;
    top:-60px;/**/
}
#pButton{
	height:60px;
	width: 60px;
	border: none;
	background-size: 50% 50%;
	background-repeat: no-repeat;
	background-position: center;
    background: #606060;
    float:center;
	outline:none;
}
#prevButton{
	height:60px;
	width: 60px;
	border: none;
	background-size: 50% 50%;
	background-repeat: no-repeat;
	background-position: center;
    background: #606060;
    float:left;
	outline:none;
}
#nextButton{
	height:60px;
	width: 60px;
	border: none;
	background-size: 50% 50%;
	background-repeat: no-repeat;
	background-position: center;
    background: #606060;
    float:leftt;
	outline:none;
}
#timeline{
	width: 344px;
	height: 20px;
	background: rgba(0,0,0,.3);
	margin-top: 20px;
	float: left;
	border-radius: 15px;
}
#playhead{
	cursor: pointer;
	width: 18px;
	height: 18px;
	border-radius: 50%;
	margin-top: 1px;
	background: black;
}
</style>
<script>
document.addEventListener("DOMContentLoaded", function(event) {
var playbutton=document.getElementById('playbutton');
var music = document.getElementById('audio'); // id for audio element
var duration; // Duration of audio clip
var pButton = document.getElementById('pButton'); // play button
var playhead = document.getElementById('playhead'); // playhead
var timeline = document.getElementById('timeline'); // timeline
// timeline width adjusted for playhead
var timelineWidth = timeline.offsetWidth - playhead.offsetWidth;
// play button event listenter
document.getElementById("prevButton").addEventListener("click",playprev);
document.getElementById("nextButton").addEventListener("click",playnext);
document.getElementById("shufButton").addEventListener("click",shuffle);
pButton.addEventListener("click", play);
// timeupdate event listener
music.addEventListener("timeupdate", timeUpdate, false);
// makes timeline clickable
timeline.addEventListener("click", function(event) {
    moveplayhead(event);
    music.currentTime = duration * clickPercent(event);
}, false);
// returns click as decimal (.77) of the total timelineWidth
function clickPercent(event) {
    return (event.clientX - getPosition(timeline)) / timelineWidth;
}
// makes playhead draggable
playhead.addEventListener('mousedown', mouseDown, false);
window.addEventListener('mouseup', mouseUp, false);
// Boolean value so that audio position is updated only when the playhead is released
var onplayhead = false;
// mouseDown EventListener
function mouseDown() {
    onplayhead = true;
    window.addEventListener('mousemove', moveplayhead, true);
    music.removeEventListener('timeupdate', timeUpdate, false);
}
// mouseUp EventListener
// getting input from all mouse clicks
function mouseUp(event) {
    if (onplayhead == true) {
        moveplayhead(event);
        window.removeEventListener('mousemove', moveplayhead, true);
        // change current time
        music.currentTime = duration * clickPercent(event);
        music.addEventListener('timeupdate', timeUpdate, false);
    }
    onplayhead = false;
}
// mousemove EventListener
// Moves playhead as user drags
function moveplayhead(event) {
    var newMargLeft = event.clientX - getPosition(timeline);
    if (newMargLeft >= 0 && newMargLeft <= timelineWidth) {
        playhead.style.marginLeft = newMargLeft + "px";
    }
    if (newMargLeft < 0) {
        playhead.style.marginLeft = "0px";
    }
    if (newMargLeft > timelineWidth) {
        playhead.style.marginLeft = timelineWidth + "px";
    }
}
// timeUpdate
// Synchronizes playhead position with current point in audio
function timeUpdate() {
    var playPercent = timelineWidth * (music.currentTime / duration);
    playhead.style.marginLeft = playPercent + "px";
    if (music.currentTime == duration) {
        pButton.className = "";
        pButton.className = "play";
    }
    document.getElementById("playedtime").innerHTML='<sup>'+formattime(music.currentTime)+'</sup>/<sub>'+formattime(duration)+'</sub>';
}
//Play and Pause
function play() {
    // start music
    if (music.paused) {
        music.play();
        // remove play, add pause
        playbutton.className = "";
        playbutton.className = "pause";
    } else { // pause music
        music.pause();
        // remove pause, add play
        playbutton.className = "";
        playbutton.className = "play";
    }
}
// Gets audio file duration
music.addEventListener("canplaythrough", function() {
    duration = music.duration;
//    document.getElementById("songlength").innerHTML=Math.floor(duration);
}, false);
// getPosition
// Returns elements left position relative to top-left of viewport
function getPosition(el) {
    return el.getBoundingClientRect().left;
}
});    
</script>
</html>
